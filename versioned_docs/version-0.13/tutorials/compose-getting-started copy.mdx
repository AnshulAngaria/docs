---
title: Deploy an AWS Lambda function in your Development Environment
description: Deploy an AWS Lambda function in your Development Environment
sidebar_label: AWS Lambda
id: aws-lambda
---

import Image from '@theme/Image';

This tutorial will show you how to deploy a development environment in Okteto that contains an AWS Lambda function with Okteto.

## Prerequisites

- Access to an Okteto instance
- Ability to create IAMs in your AWS account

## Step 1: Create an IAM role

## [optional] Step 2: Preinstall SAM in your installer image

We are going to use the SAM CLI to build and deploy our AWS Lambda function. [SAM](https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/what-is-sam.html) is a open-source framework that you can use to build serverless applications in AWS.

You can directly install the SAM CLI in your Okteto manifest. However, this will make every deployment slower than it needs to be. Instead, we recommend that you create your own installer image with `sam`(and any other tool you might need) preinstalled. 

First, build a Docker image using the Dockerfile below:

```Â 
FROM okteto/pipeline-runner:1.0.0

RUN 
```

Build it, and push it to your container registry:

```
docker build -t YOUR_COMPANY/pipeline-installer:1
```

Finally, follow the instructions listed here to update the configuration of your Okteto instance. 

## Step 3: Create your Okteto manifest

In this tutorial, we are only going to deploy the AWS Lambda function to keep it simple. In the real world, you'd typically include both containers and AWS Lambda functions as part of your Development Environment. 

In order to deploy a function in Okteto, you need to create an Okteto manifest similar to the one below:

```yaml
# okteto.yaml
deploy:
- sam build
- sam deploy --no-confirm-changeset --no-fail-on-empty-changeset --s3-prefix "${OKTETO_NAMESPACE}" --stack-name "${OKTETO_NAMESPACE}-okteto-lambda" 
- aws cloudformation describe-stacks --region us-east-1 --stack-name ${OKTETO_NAMESPACE}-okteto-lambda --query "Stacks[0].Outputs[0].OutputValue" --output text > lambda-url
- cat lambda-url
destroy:
  - sam delete --no-prompts --stack-name "${OKTETO_NAMESPACE}-okteto-lambda" --region us-east-1
```

Details:
- The first line of the `deploy` command is going to build the lambda using the source code available in your repository. 
- The second line will deploy it. We use `--no-confirm-changeset`Â  and `--no-fail-on-empty-changeset` to ensure that the function can be redeployed if it already exists. 
- In the third line we use the AWS CLI to get the URL of the newly created lambda function, and we store it as a file. You can then use the content of this file to pass the information to the rest of your applications as an environment variable or as a build argument.

## Step 4: Launch your Development Environment


## Next steps

Congratulations, you just deployed **your first AWS Lambda function in Okteto** ðŸš€.

Head over to our getting started guides for [Go](/docs/samples/golang/), [ASP.NET](/docs/samples/aspnetcore), [Java](/docs/samples/java/), [Node.js](/docs/samples/node), [PHP](/docs/samples/php/), [Python](/docs/samples/python/), or [Ruby](/docs/samples/ruby/) to see how to integrate it with the rest of your applications.
